<h2>Check Out Shopping Cart</h2>

@if (cartItems.length > 0) {
<div>
  <table class="shopping-cart">
    <thead>
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Sub Total</th>
      </tr>
    </thead>
    <tbody>
      @for (cart of cartItems; track $index) {
      <tr>
        <td>
          <a [routerLink]="['/products', cart.product.productId]">
            {{ cart.product.productName }}
          </a>
        </td>
        <td>${{ cart.product.price | number: '1.0-0' }}</td>
        <td>{{cart.quantity}}</td>
        <td>${{ cart.product.price * cart.quantity | number: '1.0-0' }}</td>
      </tr>
      }
      <tr>
        <td colspan="3" class="total-price-text">Total:</td>
        <td class="total-price-digit">${{ total | number: '1.0-0' }}</td>
      </tr>
    </tbody>
  </table>

  <form [formGroup]="checkoutForm" (ngSubmit)="processOrder()">
    <table>
      <tr>
        <td colspan="3" style="text-align: center">
          <b>Customer's Information</b>
        </td>
      </tr>
      <tr>
        <td>Customer Name:</td>
        <td><input formControlName="customerName" /></td>
      </tr>
      <tr>
        <td>Customer Phone:</td>
        <td><input formControlName="customerPhone" /></td>
      </tr>
      <tr>
        <td>Customer Email:</td>
        <td><input formControlName="customerEmail" /></td>
      </tr>
      <tr>
        <td>Customer Address:</td>
        <td><input formControlName="customerAddress" /></td>
      </tr>
      <tr>
        <td colspan="3">
          <button type="submit" class="update-shopping">Process Order</button>
        </td>
      </tr>
    </table>
  </form>
</div>
} @else {
<div>
  <h4>No items in your cart!!!</h4>
</div>

}
